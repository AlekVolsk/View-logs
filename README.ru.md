# View logs

![Version](https://img.shields.io/badge/VERSION-1.3.8-0366d6.svg?style=for-the-badge)
![Joomla](https://img.shields.io/badge/joomla-3.2+-1A3867.svg?style=for-the-badge)
![Php](https://img.shields.io/badge/php-5.6+-8892BF.svg?style=for-the-badge)

## Компонент просмотра сохраненных логов ядра и расширений Joomla

### Работает на Joomla!4

**Возможности**:

- чтение файлов логов и вывод их содержимого в табличном виде в админке
- авторазворачивание json-строки сообщения при просмотре лога в админке,<br>
(upd 1.1.0) корректный вывод json с глубокой вложенностью объектов,<br>
(upd 1.1.1) сворачивание (аккордеон) блока json-сообщения для экономии экранного пространства
- возможность скачать файл лога в формате CVS (два варианта: классический и специально для открытия в excel без плясок с бубном)
- возможность удалить файл лога
- (upd 1.1.0) корректное чтение файлов логов с нестандартными колонками
- (upd 1.2.0) чтение файла лога ошибок PHP (при условии, что он установлен в php.ini и доступен для чтения с сайта)
- (upd 1.3.0) архивирование файла лога в архив с именем файла лога + текущая дата и время (при условии подключенного расширения php-zip), архив сохраняется в папку сайта, указанную в параметрах компонента, по умолчанию `/tmp`, где также настраивается опциональное удаление исходного файла после архивирования

**Минус**: файл лога читается и выводится целиком, если он большой, то это займет время, создаст нагрузку на ресурсы и трафик, поэтому<br>
**Рекомендация разработчикам расширений**: при интенсивном логировании предусмотрите авторазбиение логов на части, по типам задач, по периода, еще как-либо, но чтобы логи ваши не весили мегатонны

**Минус 2**: ограеничение на длину строки в логе - 32000 символов, это не мало для простого текста, но бывает недостаточно при записи громоздких JSON-объектов

![screen](https://image.prntscr.com/image/pbf3-h1UT8G8QvcGtZ3Hbw.png)

О том, как в собственном расширении использовать логирование, можно узнать из документаци Joomla: https://docs.joomla.org/Using_JLog#Logging_to_a_Specific_Log_File
